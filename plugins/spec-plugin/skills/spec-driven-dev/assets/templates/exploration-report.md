# Codebase Exploration Report: {機能名}

**探索目的**: {ユーザーが伝えた目的を1-2文で記述}

---

## 0. エグゼクティブサマリー

**重要な発見（Top 5）**:
1. {最も重要な発見1}
2. {最も重要な発見2}
3. {最も重要な発見3}
4. {最も重要な発見4}
5. {最も重要な発見5}

**推奨される次のステップ**:
- {実装前に確認すべき点}
- {設計時に考慮すべき制約}

---

## 1. アーキテクチャ概要

### 1.1 ディレクトリ構造

```
{プロジェクトルートからの主要ディレクトリツリー}
```

**構造の特徴**:
- {レイヤー構成の説明}
- {モジュール分割方針}

### 1.2 主要ファイル

| ファイルパス | 役割 | 重要度 |
|-------------|------|--------|
| {path/to/file1} | {役割説明} | 高/中/低 |
| {path/to/file2} | {役割説明} | 高/中/低 |

### 1.3 レイヤー構成

```
{アーキテクチャ層のASCII図}
```

**各層の責務**:
- {層1}: {説明}
- {層2}: {説明}

### 1.4 依存関係

```
{主要モジュール間の依存関係図}
```

**循環依存**: {あれば指摘、なければ "なし"}
**主要な外部依存**: {ライブラリとバージョン}

---

## 2. 関連コード分析

### 2.1 変更対象に関連する既存コード

| ファイルパス | 関連内容 | 関連度 |
|-------------|---------|--------|
| {path/to/related1} | {どう関連するか} | 高/中/低 |

### 2.2 再利用可能なパターン

#### パターン: {パターン名}

**場所**: `{path/to/pattern-file}`
**概要**: {このパターンが何をするか}
**再利用方法**: {新機能でどう使えるか}

```{language}
{実際のコードスニペット}
```

### 2.3 類似実装の参考例

#### 参考: {機能名}

**実装ファイル**: `{path/to/reference}`
**類似点**: {何が似ているか}
**参考になる点**: {何を参考にすべきか}

### 2.4 命名規則・コーディングスタイル

- **ファイル命名**: {PascalCase / kebab-case / etc.}
- **変数命名**: {camelCase / snake_case / etc.}
- **インデント**: {2 spaces / 4 spaces / tabs}

---

## 3. 技術的制約・リスク

### 3.1 既存の制約

**型システム・リンター**:
- {TypeScript設定の厳格度 / Clippy設定 等}
- {主要なルール・制約}

**ビルド設定**:
- ビルドツール: {Webpack / Vite / cargo 等}
- 対象環境: {ブラウザ / Node.js 等}

### 3.2 互換性の問題

| ライブラリ | バージョン | リスク |
|-----------|----------|--------|
| {library} | {version} | {deprecated API 等} |

### 3.3 パフォーマンスボトルネック

- {既知のボトルネックがあれば記載}
- {なければ "特記事項なし"}

### 3.4 セキュリティ考慮点

- {認証・認可の既存パターン}
- {入力検証のパターン}

---

## 4. 変更影響範囲

### 4.1 波及ファイル

**直接影響**（修正が必須）:
| ファイルパス | 理由 | 影響の種類 |
|-------------|------|-----------|
| {path/to/file} | {なぜ影響するか} | 修正 / 追加 / 削除 |

**間接影響**（確認が必要）:
| ファイルパス | 理由 | 確認内容 |
|-------------|------|---------|
| {path/to/file} | {依存関係} | {何を確認すべきか} |

### 4.2 テスト範囲

**既存テストファイル**:
| テストファイルパス | テスト対象 | 修正の必要性 |
|------------------|----------|------------|
| {path/to/test} | {対象} | 高 / 中 / 低 |

**新規テストの必要性**:
- [ ] ユニットテスト: {対象}
- [ ] 統合テスト: {対象}
- [ ] E2Eテスト: {対象}

### 4.3 破壊的変更の可能性

| API / 関数 | 変更内容 | 影響範囲 |
|-----------|---------|---------|
| {name} | {変更の種類} | {影響するモジュール} |

### 4.4 移行計画の必要性

- 段階的リリース: {必要 / 不要}
- ロールバック計画: {方針}

---

## 5. 追加調査が必要な項目

- [ ] {不明点1}
- [ ] {不明点2}
- [ ] {不明点3}
